!function(t,e){for(var n in e)t[n]=e[n]}(window,function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)n[r]=t[r];return n.target=n.currentTarget=e,n}function o(t,e){function n(e){return function(){var n=this[u][e];if(h){var r=this.hasOwnProperty(e+"_")?this[e+"_"]:n,o=(t[e]||{}).getter;return o&&o(r,this)||r}return n}}function o(e){return function(n){var o=this[u];if(h){var i=this,s=t[e];if("on"===e.substring(0,2))i[e+"_"]=n,o[e]=function(s){s=r(s,i),t[e]&&t[e].call(i,o,s)||n.call(i,s)};else{var a=(s||{}).setter;n=a&&a(n,i)||n,this[e+"_"]=n;try{o[e]=n}catch(t){}}}else o[e]=n}}function a(e){return function(){var n=[].slice.call(arguments);if(t[e]&&h){var r=t[e].call(this,n,this[u]);if(r)return r}return this[u][e].apply(this[u],n)}}function c(){h=!1,e.XMLHttpRequest===v&&(e.XMLHttpRequest=f,v.prototype.constructor=f,f=void 0)}e=e||window;var f=e.XMLHttpRequest,h=!0,v=function(){for(var t=new f,e=0;e<s.length;++e){var r="on"+s[e];void 0===t[r]&&(t[r]=null)}for(var c in t){var h="";try{h=i(t[c])}catch(t){}"function"===h?this[c]=a(c):c!==u&&Object.defineProperty(this,c,{get:n(c),set:o(c),enumerable:!0})}var v=this;t.getProxy=function(){return v},this[u]=t};return v.prototype=f.prototype,v.prototype.constructor=v,e.XMLHttpRequest=v,Object.assign(e.XMLHttpRequest,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4}),{originXhr:f,unHook:c}}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.configEvent=r,e.hook=o;var s=e.events=["load","loadend","timeout","error","readystatechange","abort"],u="__origin_xhr"},function(t,e,n){"use strict";function r(t,e){return e=e||window,c(t,e)}function o(t){return t.replace(/^\s+|\s+$/g,"")}function i(t){return t.watcher||(t.watcher=document.createElement("a"))}function s(t,e){var n=t.getProxy(),r="on"+e+"_",o=(0,f.configEvent)({type:e},n);n[r]&&n[r](o);var s;"function"==typeof Event?s=new Event(e,{bubbles:!1}):(s=document.createEvent("Event"),s.initEvent(e,!1,!0)),i(t).dispatchEvent(s)}function u(t){this.xhr=t,this.xhrProxy=t.getProxy()}function a(t){function e(t){u.call(this,t)}return e[x]=Object.create(u[x]),e[x].next=t,e}function c(t,e){function n(t,e){var n=new b(t),r=e.responseType,i=r&&"text"!==r&&"json"!==r?e.response:e.responseText,s={response:i,status:e.status,statusText:e.statusText,config:t.config,headers:t.resHeader||t.getAllResponseHeaders().split("\r\n").reduce(function(t,e){if(""===e)return t;var n=e.split(":");return t[n.shift()]=o(n.join(":")),t},{})};if(!v)return n.resolve(s);v(s,n)}function r(t,e,n,r){var o=new w(t);n={config:t.config,error:n,type:r},x?x(n,o):o.next(n)}function u(){return!0}function a(t){return function(e,n){return r(e,this,n,t),!0}}function c(t,e){return 4===t.readyState&&0!==t.status?n(t,e):4!==t.readyState&&s(t,l),!0}var h=t.onRequest,v=t.onResponse,x=t.onError,E=(0,f.hook)({onload:u,onloadend:u,onerror:a(d),ontimeout:a(p),onabort:a(y),onreadystatechange:function(t){return c(t,this)},open:function(t,e){var n=this,r=e.config={headers:{}};r.method=t[0],r.url=t[1],r.async=t[2],r.user=t[3],r.password=t[4],r.xhr=e;var o="on"+l;if(e[o]||(e[o]=function(){return c(e,n)}),h)return!0},send:function(t,e){var n=e.config;if(n.withCredentials=e.withCredentials,n.body=t[0],h){var r=function(){h(n,new g(e))};return!1===n.async?r():setTimeout(r),!0}},setRequestHeader:function(t,e){if(e.config.headers[t[0].toLowerCase()]=t[1],h)return!0},addEventListener:function(t,e){var n=this;if(-1!==f.events.indexOf(t[0])){var r=t[1];return i(e).addEventListener(t[0],function(e){var o=(0,f.configEvent)(e,n);o.type=t[0],o.isTrusted=!0,r.call(n,o)}),!0}},getAllResponseHeaders:function(t,e){var n=e.resHeader;if(n){var r="";for(var o in n)r+=o+": "+n[o]+"\r\n";return r}},getResponseHeader:function(t,e){var n=e.resHeader;if(n)return n[(t[0]||"").toLowerCase()]}},e);return{originXhr:E.originXhr,unProxy:E.unHook}}Object.defineProperty(e,"__esModule",{value:!0}),e.proxy=r;var f=n(0),h=f.events[0],v=f.events[1],p=f.events[2],d=f.events[3],l=f.events[4],y=f.events[5],x="prototype";u[x]=Object.create({resolve:function(t){var e=this.xhrProxy,n=this.xhr;e.readyState=4,n.resHeader=t.headers,e.response=e.responseText=t.response,e.statusText=t.statusText,e.status=t.status,s(n,l),s(n,h),s(n,v)},reject:function(t){this.xhrProxy.status=0,s(this.xhr,t.type),s(this.xhr,v)}});var g=a(function(t){var e=this.xhr;t=t||e.config,e.withCredentials=t.withCredentials,e.open(t.method,t.url,!1!==t.async,t.user,t.password);for(var n in t.headers)e.setRequestHeader(n,t.headers[n]);e.send(t.body)}),b=a(function(t){this.resolve(t)}),w=a(function(t){this.reject(t)})},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ah=void 0;var r=n(0),o=n(1);e.ah={proxy:o.proxy,hook:r.hook}}]));
//# sourceMappingURL=ajaxhook.min.js.map